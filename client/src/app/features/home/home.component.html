<div class="container mx-auto px-4 py-8">
  <!-- Secção Hero -->
  <section class="text-center py-16 px-6 bg-brand-surface rounded-lg">
    <h1 class="text-4xl md:text-5xl font-extrabold text-white">
      Encontre a sua <span class="text-brand-accent">Vibe</span>.
    </h1>
    <p class="mt-4 max-w-2xl mx-auto text-lg text-brand-text-secondary">
      Exploramos o mundo para encontrar peças únicas que contam uma história.
      Bem-vindo ao seu cofre de estilo.
    </p>
    <a
      routerLink="/products"
      class="mt-8 inline-block bg-brand-accent text-brand-background font-bold py-3 px-8 rounded-lg text-lg hover:bg-lime-300 transition-transform transform hover:scale-105"
    >
      Ver Coleção
    </a>
  </section>

  <!-- Produtos Relevantes -->
  <div class="mt-16">
    <!-- Estado de Carregamento com Skeleton -->
    <div *ngIf="isLoading">
      <div class="space-y-12">
        <!-- Skeleton para o título da categoria -->
        <div class="h-10 bg-gray-800 rounded-md w-1/4 mb-6 animate-pulse"></div>
        <!-- Skeleton para os cards de produto -->
        <div class="flex gap-6 overflow-x-auto pb-4 -mb-4">
          <div *ngFor="let i of [1, 2, 3, 4]" class="w-64 flex-shrink-0">
            <app-product-card-skeleton></app-product-card-skeleton>
          </div>
        </div>
      </div>
    </div>

    <!-- Estado de Erro -->
    <div
      *ngIf="error"
      class="text-center bg-red-900/20 border border-red-500 text-red-300 p-4 rounded-lg max-w-2xl mx-auto"
    >
      <p class="font-bold">Oops! Algo correu mal.</p>
      <p class="text-sm">{{ error }}</p>
    </div>

    <!-- Conteúdo Principal -->
    <div *ngIf="!isLoading && !error" class="space-y-12">
      <section *ngFor="let category of categories" class="category-section">
        <h2
          class="text-3xl font-bold text-white mb-6 border-b-2 border-brand-accent pb-2 inline-block"
        >
          {{ category }}
        </h2>
        <div class="flex gap-6 overflow-x-auto pb-4 -mb-4">
          <div
            *ngFor="let product of groupedProducts[category]"
            class="w-64 flex-shrink-0"
          >
            <app-product-card [product]="product"></app-product-card>
          </div>
        </div>
      </section>

      <div
        *ngIf="categories.length === 0"
        class="text-center text-brand-text-secondary py-10"
      >
        <p>Ainda não temos produtos relevantes para mostrar.</p>
        <p class="text-sm">
          Continue a navegar para nos ajudar a encontrar a sua vibe!
        </p>
      </div>
    </div>
  </div>
</div>
